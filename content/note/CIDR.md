---
title: CIDR
date: 2024-03-31T18:36:00+09:00
tags:
  - ネスペ
---

CIDR（Classless Inter-Domain Routing）は、IPアドレスを効率的に割り当てるための技術であり、複数のサブネットを１つのCIDRブロックにまとめることができます。

複数のネットワークを同一にすることができて、これにより異なるアドレス空間を1つのネットワークとして束ねられる.

- 192.168.0.1～254
- 192.168.1.1～254
これらをまとめて、 `192.168.0.0/23` というネットワークにすると、1つのネットワークで510個のノードが収容できて管理もしやすい

経路上のルータに保存する経路情報も節約可能

## ブロードキャストするとどうなる？

CIDRブロック内でのブロードキャストは、通常のサブネットブロードキャストと同様に動作します。つまり、CIDRブロック内のすべてのホストに対してブロードキャストされます。

例えば、CIDRブロックが `192.168.0.0/24` であるとします。これは、`192.168.0.0` から `192.168.0.255` の範囲内のIPアドレスを指します。ブロードキャストアドレスは `192.168.0.255` です。CIDRブロック内のすべてのホストは、このブロードキャストアドレスに送信されるブロードキャストパケットを受信します。

したがって、CIDRによって複数のサブネットが１つにまとめられた場合でも、ブロードキャストはまとめられたサブネット全体に対して送信されます。

## 物理的に離れた地域同士を同一のネットワークにするには？

[[VLAN]] と併用するのがいい。
VLANであれば次のようなこともできる。

- 同一のブロードキャストドメイン内でブロードキャストトラフィックの分割
- セキュリティ的な分割

