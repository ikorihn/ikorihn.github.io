---
title: Keyball44の組み立て
date: 2023-07-29T18:18:00+09:00
tags:
- keyboard
lastmod: 2023-07-29T18:23:23+09:00
---

トラックボールがついている左右分離型のキーボードです。
自作キーボードにはいろいろ道具が必要で、一度買ってしまったら沼だとわかりつつ、ずっと興味はあったので手を出してみようとおもいます。

## ビルドガイド

https://github.com/Yowkees/keyball/blob/main/keyball44/doc/rev1/buildguide_jp.md

参考にしたビルドログ

* [自作キーボード超初心者が Keyball46 を組み立てるまでのメモ](https://zenn.dev/mtsmfm/scraps/080306469692b7)
* [はじめての自作キーボード：Keyball61 - チラシのすきま](https://monoworks.co.jp/post/2023-04-10-first-self-made-keyboard-keyball61/)
* [自作キーボードキット Keyball46 を組み立てた - SIDACONFIG.COM](https://sidaconfig.com/selfmade-keyboard/2022-01-05/build-keyball46-report/#%E8%A3%8F%E9%9D%A2%E3%81%B8%E3%81%AE%E3%83%80%E3%82%A4%E3%82%AA%E3%83%BC%E3%83%89%E3%81%AE%E3%81%AF%E3%82%93%E3%81%A0%E4%BB%98%E3%81%91)
* [Keyball61ユーザーがKeyball44も作ってみた │ wonwon eater](https://wonwon-eater.com/keyball44/)

この動画に大変お世話になりました。
[分離式＆トラックボール搭載 自作キーボード Keyball39 制作工程 まとめ](https://youtu.be/MsvfFNaBjTs)

## 購入品

|アイテム|個数|単価|購入元|
|------------|------|------|---------|
|[Keyball44キット](https://shirogane-lab.net/items/64b7a006eb6dbe00346cd0c5)|1|24800|白銀ラボ|
|[Kailh Choc V1 Red ロープロファイル キースイッチ（リニア/50g/5ピン/5個）](https://talpkeyboard.net/items/6365b66df3de5c668a24204a)|1|300|TALPKEYBOARD|
|[Chocfox CFX Choc用ロープロファイルキーキャップ（1U/ホワイト/2個）](https://talpkeyboard.net/items/6365b67b4aed190854e4ec2f)|3|110|TALPKEYBOARD|
|[XDA PBT ブランク キーキャップ （グレー/2個）](https://talpkeyboard.net/items/5b6e593d5f78663893000482)|14|110|TALPKEYBOARD|
|[XDA PBT ブランク キーキャップ（クリーム/2個）](https://talpkeyboard.net/items/5e05d3a85b120c2ad04ccf99)|10|110|TALPKEYBOARD|
|[Pro Micro ATmega32U4-MU 5V/16MHz/USB-C(互換品/青)](https://talpkeyboard.net/items/62e24e6f8a0bd07fe2d38137)|2|900|TALPKEYBOARD|
|[Kailh Box V2 Switch / Red / Linear](https://shop.yushakobo.jp/products/4264)|39|90 (計2447)|遊舎工房|
|[キートップ引抜工具](https://www.amazon.co.jp/gp/product/B0BFL6VW9Q/)|1|449|Amazon|
|[Anker PowerLine III USB-C](https://www.amazon.co.jp/gp/product/B083446WKR)|1|990|Amazon|
|[TRRSケーブル](https://www.amazon.co.jp/gp/product/B01MXCKHAM)|1|820|Amazon|
|[ペリックス トラックボール](https://www.amazon.co.jp/gp/product/B071F52MZG)|1|1559|Amazon|
|[白光 FX600-02 ](https://www.yodobashi.com/product-detail/100000001001987047/)|1|4420|ヨドバシ|
|[白光 T18-C2 こて先 2C型](https://www.yodobashi.com/product-detail/100000001001986779/)|1|561|ヨドバシ|
|[goot はんだごて台](https://www.yodobashi.com/product-detail/100000001000594278/)|1|771|ヨドバシ|
|[はんだ吸い取り線](https://www.yodobashi.com/product-detail/100000001001987586/)|1|260|ヨドバシ|
|[グット 精密プリント基板用はんだ](https://www.yodobashi.com/product-detail/100000001004303216/)|1|239|ヨドバシ|
|[HOZAN フラックス](https://www.yodobashi.com/product-detail/100000001001885214/)|1|345|ヨドバシ|

### Keyball44キット

24,800円
https://shirogane-lab.net/items/64b7a006eb6dbe00346cd0c5

再入荷通知メールを登録しておくか、白銀ラボさんのTwitterで入荷情報を待つかして、再販されたらすぐに買わないと1時間以内にはなくなってしまう

LEDをつけると難易度上がりそうなので、まずはつけずに組み立てる。あとからでもつけられるとのこと。

### キー関連

Cherry MX互換のキーキャップ、スイッチ 44個(親指ロープロファイルにする場合39個)

安価なスイッチで有名なものにKailhがある
https://shop.yushakobo.jp/products/4264

親指5個をロープロファイルにする場合は、 choc互換ロープロファイルキー

### トラックボール

34mm
いま使ってないトラックボールがハマればよかったけど微妙に大きさ違った

### ProMicro

ProMicro 2個
https://talpkeyboard.net/items/62e24e6f8a0bd07fe2d38137
2023年8月で900円/個

micro USBのほうが安いみたいだが、汎用性考慮してType-Cにしておいた。
円安や半導体不足の影響で徐々に値上がりしている様子。

https://101010.fun/pro-micro-blink-led.html
https://zenn.dev/koron/articles/9fee38469a8acc
Arduino互換機で、Arduino言語で動作させることができるマイコンボード

ProMicroのUSBが壊れやすいため、交換を容易にするためコンスルー(スプリングピンヘッダ)を取り付けるのが主流のよう。
ProMicroとコンスルーははんだ付けして、基板とははんだ付けしないので、ProMicroに故障があっても取り外しが簡単にできる。
コンスルーはこれを買おうかと思ったけど、よく見たらキットに同梱されていた
https://talpkeyboard.net/items/6229e8c130344b271f290c3c

### その他

* TRRSケーブル: 左右接続のため
* USBケーブル: PCとの接続のため

## 工具

初めての自作になるので道具類も揃える必要があった

### はんだごて

https://www.amazon.co.jp/dp/B006MQD7M4/
温度調整のできるはんだごて。自作キーボードでは定番らしい。4,500円程度
1500円前後のものもあるなかでちょっとお高いが、何もわからない初心者なので安心できるものを買っておこうということでこちらにした

### コテ先

C型という形が扱いやすいらしい

### コテ台

はんだごてを置くための台
なくてもよさそうに思うが必須らしい

### 作業マット

耐熱の作業用マットがあるといい
100均

### はんだ

すず60%/鉛40%が初心者には融点が低く扱いやすい
精密プリント基板用というのがいい

### はんだ吸い取り線

失敗したときの吸い取り

### フラックス

ハンダ付けをしやすくする促進剤。ヤニ。
はんだの中に入っているものもあるが、熱を加え続けると溶けてしまうので塗布するように別途用意した。

## 作業ログ

### 内容物確認

紙1枚に内容物が書かれているので、漏れがないか確認しよう…と思ったが、パーツ名と個数のみ書いてあるのだがどれがどのパーツなのかがわからなかった…
名前で検索して多分あっているだろうということで進めた。

### はんだごての準備

* はんだごて

* はんだ

* コテ台

* フラックス

* シリコンマット

* コテ先をデフォルトのB型から2C型のものに変える
  
  * 最初手でボルト回そうとしてびくともせず、ペンチで回すものと知った
* コテ台のスポンジがぺらっぺらで不安になるが、水分を吸わせたら膨らむ
  
  * スポンジは切り込みが入っているもののほうが、コテ先の汚れを落としやすいみたいだが自分のはそうなっていなかった

### ダイオードはんだ付け

作業時間: 2時間

ここからいよいよはんだづけ作業開始！

ダイオードが思った以上に小さい。プラスチックのケースに一個ずつ仕切られて入っていて、フィルムを剥がすと落ちてくるのでなくさないように注意する。いくつか余分に入っている。

こっちむきにつけてくださいっていうマークがあるのだが、部屋の明かりでは全然見えずスマホのライトを当てると見えた。

作業は「ダイオード 表面実装 はんだ付け」で調べて出てきた動画通りにやった。
初めてのはんだ付けなので、本当にこんな熱いもの当てて壊れないのかとか、適切なはんだの量がわからんとか心配になったが、手順通りにやったら大丈夫だった。
温度は340度で行った。

1. まず予備ハンダを盛る
1. ダイオードが浮かないよう、はんだの上から乗せるんじゃなくて横からスライドさせて、予備ハンダに熱を加えてくっつける
1. 基盤を180度回転してもう片方をつける
1. 予備ハンダ側が足りなくて不安な場合付け足す

### キーソケットはんだ付け

作業時間: 1時間

LEDは難しそうなのもありスキップした。

ソケットの向きに注意しつつ、まず一気に設置してからはんだ付けした。マークが書いているのでその通りに置けば良し。

写真と違い、端子の上部分が蓋されていてどうしたもんかと思ったけど、3秒ほど熱して上からはんだを流すとちゃんと下まで入ってくれた。

### ジャンパはんだ付け

作業時間: 30分

「OLEDのジャンパをショートさせる」というのがパルスのファルシのルシがコクーンでパージだった。
三角2つをはんだでつないで、電気回路を閉じるということだった。

コテで2つとも熱してから、はんだをちょっとずつ流しながらコテを上げていくとうまく盛れた。

### TRRSソケット、タクトスイッチ、4連ピンソケット

作業時間: 30分

マスキングテープで表面から貼り付けないと、部品が浮いてしまう。
その状態ではんだづけすると、はんだが表面に流れ出て、部品が浮いた状態で固定されてしまう(1敗)
TRRSソケットが少し浮いているけど問題なく使えている。ケーブルを無理に抜き差ししなければ大丈夫と信じたい。。。

### ProMicroとOLED

作業時間: 30分

コンスルーはキットに同梱されているものを使う。
ピンが曲がらないように注意して差し込む。
あまり力は入れなくても入るはず

OLEDをつけるときは、まず1ピンだけつけて位置を調整してから他のピンもつける
OLEDは有機ELディスプレイのこと。

中略。。。

### プレートの組み立て

作業時間: 1時間

地味に時間がかかった。

長めのネジはトラックボールのパーツを止めるのに使うもので、プレートのネジ止めは全部短いネジで行う。

キースイッチのピンを曲がらないように確実にソケットの2つの穴に差し込む。
気をつけないと簡単に曲がる(1敗)
ちゃんとハマればプレート同士がピッタリくっつくので、浮いている場合はキースイッチがうまく刺さっていない。

### 完成！

作業は2日にわけて行って、休みつつでだいたい合計6時間ほどだった。
LEDをつけるともっとかかる。
ぜんぜん知識がなく調べながらなのでこのくらいかかったけど、慣れていればもっと早くできそう。

LEDは後付できるので、気が向いたらLEDもつけてみようかな。

## トラブルシューティング

### キースイッチをつけたあとで一部キーが反応しない

事前に直接ピンセットでショートさせたときにはどのキーも反応したのに、スイッチを付けると z,r,ESC,l,o が反応しなかった。
一列まるごと反応しない場合にはProMicroのはんだ付けが失敗している可能性があるみたいだが、今回はそうではない。

ひとまずキースイッチを一度抜いてみると、一つはソケットに刺すピンが曲がってしまい刺さっていなかった。
ペンチでまっすぐに戻して刺し直し無事動いた。
ちなみにキースイッチ引き抜き工具を持っていなかったので、買って届くのを待った。

しかしその他のキーについては曲がっておらず、ピンセットで触れるとやはり反応するので原因がよくわからない…。
別の、ちゃんと反応しているスイッチを抜いてこちらに刺してもだめなので、スイッチが原因ではなさそう。
そこでダメ元で強めにスイッチを押してみたところ、時々反応することがあった。
これは接触が悪いだけかと思い、ソケットのはんだを一度溶かしてさらに追加したところ、無事どのキーも反応するようになった。

### ビルドガイドのCPIの変更するキーコードがただしくない…？

https://github.com/Yowkees/keyball/blob/main/keyball44/doc/rev1/buildguide_jp.md

* `0x5DA7` CPI_I100 CPIを100増加させます(最大:12000)
* `0x5DA8` CPI_D100 CPIを100減少させます(最小:100)
* `0x5DA9` CPI_I1K  CPIを1000増加させます(最大:12000)
* `0x5DAA` CPI_D1K  CPIを1000減少させます(最小:100)

実際のキー

* `0x5DAB` CPI_D1K 
* `0x5DA9` CPI_D100
* `0x5DA8` CPI_I100 
* `0x5DAA` CPI_I1K
* `0x5DA7` 保存

## キーマッピング

これは沼だ 😇

[Keyball44 QMKをカスタマイズする](../note/Keyball44%20QMK%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B.md)
